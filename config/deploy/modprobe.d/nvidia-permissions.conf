# DS01 NVIDIA device file permissions configuration
# Sets NVIDIA kernel module parameters to create device files with:
# - Group: root (GID 0)
# - Mode: 0666 (rw-rw-rw-)
#
# GPU access control is NOT enforced at device permission level.
# DS01 uses a three-layer architecture instead:
#   Layer 1: CUDA_VISIBLE_DEVICES (host deterrent)
#   Layer 2: Docker --gpus device mapping (container security boundary)
#   Layer 3: video group (opt-in bare-metal access)
#
# nvidia-smi must be runnable by all users for the GPU allocation chain
# to work during container deploy. SLURM and Kubernetes use the same pattern.
# See: .planning/phases/02.1-gpu-access-control-research/
#
# Parameters:
# - NVreg_DeviceFileGID=0 (root â€” group irrelevant with 0666)
# - NVreg_DeviceFileMode=438 (decimal for 0666 octal)
#
# Deployed to: /etc/modprobe.d/nvidia-permissions.conf
# Takes effect: After nvidia module reload or system reboot

options nvidia NVreg_DeviceFileGID=0 NVreg_DeviceFileMode=438
