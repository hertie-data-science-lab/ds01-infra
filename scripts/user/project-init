#!/bin/bash
# DS01 Project Init - L4 Wizard
# Complete project initialization workflow
# Creates: pyproject.toml, requirements.txt, Dockerfile, directory structure
# Usage: project-init [project-name] [--type=TYPE] [--guided]

set -e

# Source DS01 context library
if [[ -f "/opt/ds01-infra/scripts/lib/ds01-context.sh" ]]; then
    source /opt/ds01-infra/scripts/lib/ds01-context.sh
fi

# Source skill assessment library for helper functions
if [[ -f "/opt/ds01-infra/scripts/lib/skill-assessment.sh" ]]; then
    source /opt/ds01-infra/scripts/lib/skill-assessment.sh
fi

# Source project metadata library
if [[ -f "/opt/ds01-infra/scripts/lib/project-metadata.sh" ]]; then
    source /opt/ds01-infra/scripts/lib/project-metadata.sh
fi

# Source AIME images library for base image resolution
if [[ -f "/opt/ds01-infra/scripts/lib/aime-images.sh" ]]; then
    source /opt/ds01-infra/scripts/lib/aime-images.sh
fi

# Source shared Dockerfile generator
if [[ -f "/opt/ds01-infra/scripts/lib/dockerfile-generator.sh" ]]; then
    source /opt/ds01-infra/scripts/lib/dockerfile-generator.sh
else
    echo "Error: dockerfile-generator.sh not found at /opt/ds01-infra/scripts/lib/" >&2
    exit 1
fi

# Verify the function was loaded
if ! type generate_dockerfile &>/dev/null; then
    echo "Error: generate_dockerfile function not available after sourcing library" >&2
    exit 1
fi

# Set orchestration context - suppresses atomic command "Next steps" output
export DS01_CONTEXT="orchestration"
export DS01_INTERFACE="orchestration"

BLUE='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
CYAN='\033[0;36m'
BOLD='\033[1m'
DIM='\033[2m'
NC='\033[0m'

USERNAME=$(whoami)
USER_ID=$(id -u)
GROUP_ID=$(id -g)

# =============================================================================
# HELP FUNCTIONS (4-tier system)
# =============================================================================

show_help() {
    echo -e ""
    echo -e "${BOLD}DS01 Project Init${NC}"
    echo -e "${DIM}Create a new data science project with all required files${NC}"
    echo -e ""
    echo -e "${CYAN}Usage:${NC}"
    echo -e "  project init [project-name] [options]"
    echo -e ""
    echo -e "${CYAN}Options:${NC}"
    echo -e "  --type=TYPE     Project type: ml, cv, nlp, rl, audio, ts, llm, custom"
    echo -e "  --guided        Include detailed explanations for beginners"
    echo -e "  -h, --help      Quick reference (this message)"
    echo -e "  --info          Full reference with all options"
    echo -e "  --concepts      Learn about projects before running"
    echo -e ""
    echo -e "${CYAN}Examples:${NC}"
    echo -e "  project init                          # Interactive setup"
    echo -e "  project init my-thesis                # Create 'my-thesis' project"
    echo -e "  project init my-thesis --type=cv     # Computer vision project"
    echo -e "  project init --guided                 # With explanations"
    echo -e ""
}

show_info() {
    echo -e ""
    echo -e "${BOLD}DS01 Project Init - Full Reference${NC}"
    echo -e "${DIM}L4 Wizard: Complete project initialization${NC}"
    echo -e ""
    echo -e "${CYAN}Usage:${NC}"
    echo -e "  project init [project-name] [options]"
    echo -e ""
    echo -e "${CYAN}Arguments:${NC}"
    echo -e "  project-name    Name for your project (lowercase, hyphens allowed)"
    echo -e "                  Auto-converted: 'My Thesis' -> 'my-thesis'"
    echo -e ""
    echo -e "${CYAN}Options:${NC}"
    echo -e "  --type=TYPE     Project type (determines packages in requirements.txt):"
    echo -e "                    ml     - General ML (xgboost, lightgbm, optuna)"
    echo -e "                    cv     - Computer Vision (timm, albumentations, opencv)"
    echo -e "                    nlp    - NLP (transformers, datasets, tokenizers)"
    echo -e "                    rl     - Reinforcement Learning (gymnasium, stable-baselines3)"
    echo -e "                    audio  - Audio/Speech (librosa, soundfile, torchaudio)"
    echo -e "                    ts     - Time Series (statsmodels, prophet, darts)"
    echo -e "                    llm    - LLM/GenAI (vllm, bitsandbytes, langchain)"
    echo -e "                    custom - No preset packages"
    echo -e ""
    echo -e "  --desc=TEXT     Project description (optional)"
    echo -e "  --guided        Step-by-step with explanations"
    echo -e "  --no-git        Skip Git initialization"
    echo -e "  --blank         Create blank directory (no structure)"
    echo -e ""
    echo -e "${CYAN}Created Files:${NC}"
    echo -e "  ~/workspace/<project>/"
    echo -e "    pyproject.toml      Project metadata (DS01 integration)"
    echo -e "    requirements.txt    Python packages (read by image-create)"
    echo -e "    Dockerfile          Container definition"
    echo -e "    README.md           Project documentation"
    echo -e "    data/, notebooks/   Directory structure (if not --blank)"
    echo -e ""
    echo -e "${CYAN}Workflow:${NC}"
    echo -e "  project init my-thesis --type=cv"
    echo -e "    -> project launch my-thesis        # Build image & deploy"
    echo -e "    -> container retire my-thesis      # Cleanup when done"
    echo -e ""
}

show_concepts() {
    echo -e ""
    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
    echo -e "${BOLD}Understanding DS01 Projects${NC}"
    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
    echo -e ""
    echo -e "${BOLD}What is a Project?${NC}"
    echo -e ""
    echo -e "A project is a self-contained workspace for your ML/DS work:"
    echo -e "  ~/workspace/my-thesis/"
    echo -e "    data/           Your datasets"
    echo -e "    notebooks/      Jupyter notebooks"
    echo -e "    src/            Python source code"
    echo -e "    outputs/        Results, figures, trained models"
    echo -e "    requirements.txt   Package dependencies"
    echo -e "    Dockerfile      Container definition"
    echo -e ""
    echo -e "${BOLD}The Project-Centric Workflow${NC}"
    echo -e ""
    echo -e "DS01 organizes everything around your project:"
    echo -e ""
    echo -e "  ${GREEN}project init${NC}         Create project structure"
    echo -e "       |"
    echo -e "       v"
    echo -e "  ${GREEN}project launch${NC}       Build image (if needed) & start container"
    echo -e "       |"
    echo -e "       v"
    echo -e "  [Work in container] - Edit code, train models"
    echo -e "       |"
    echo -e "       v"
    echo -e "  ${GREEN}container retire${NC}    Stop & remove container (workspace is safe)"
    echo -e ""
    echo -e "${BOLD}What Gets Created?${NC}"
    echo -e ""
    echo -e "  ${CYAN}pyproject.toml${NC}   - Project metadata (name, type, author)"
    echo -e "                     Read by DS01 tools for automation"
    echo -e ""
    echo -e "  ${CYAN}requirements.txt${NC} - Python packages for your project"
    echo -e "                     Automatically includes packages for your use-case"
    echo -e "                     Read by image-create when building Docker image"
    echo -e ""
    echo -e "  ${CYAN}Dockerfile${NC}       - Instructions to build your container"
    echo -e "                     Based on AIME ML Container (PyTorch, CUDA)"
    echo -e ""
    echo -e "${BOLD}Project Types${NC}"
    echo -e ""
    echo -e "  ${BOLD}ml${NC}     General ML       - xgboost, lightgbm, optuna, hyperopt"
    echo -e "  ${BOLD}cv${NC}     Computer Vision  - timm, albumentations, opencv, kornia"
    echo -e "  ${BOLD}nlp${NC}    NLP              - transformers, datasets, tokenizers"
    echo -e "  ${BOLD}rl${NC}     Reinforcement    - gymnasium, stable-baselines3"
    echo -e "  ${BOLD}audio${NC}  Audio/Speech     - librosa, soundfile, torchaudio"
    echo -e "  ${BOLD}ts${NC}     Time Series      - statsmodels, prophet, darts"
    echo -e "  ${BOLD}llm${NC}    LLM/GenAI        - vllm, bitsandbytes, langchain"
    echo -e ""
    echo -e "${DIM}Ready to create a project? Run: project init [name]${NC}"
    echo -e ""
}

# =============================================================================
# PARSE ARGUMENTS
# =============================================================================

PROJECT_NAME_ARG=""
PROJECT_TYPE_ARG=""
PROJECT_DESC_ARG=""
GUIDED=false
INTERACTIVE=true
SKIP_GIT=false
BLANK_STRUCTURE=false

for arg in "$@"; do
    case $arg in
        --guided)
            GUIDED=true
            ;;
        --type=*)
            PROJECT_TYPE_ARG="${arg#*=}"
            ;;
        --desc=*)
            PROJECT_DESC_ARG="${arg#*=}"
            ;;
        --no-git)
            SKIP_GIT=true
            ;;
        --blank)
            BLANK_STRUCTURE=true
            ;;
        -h|--help)
            show_help
            exit 0
            ;;
        --info)
            show_info
            exit 0
            ;;
        --concepts)
            show_concepts
            exit 0
            ;;
        -*)
            echo -e "${RED}Unknown option: $arg${NC}"
            show_help
            exit 1
            ;;
        *)
            if [ -z "$PROJECT_NAME_ARG" ]; then
                PROJECT_NAME_ARG="$arg"
            fi
            ;;
    esac
done

# Check if project name was provided (non-interactive mode)
if [ -n "$PROJECT_NAME_ARG" ]; then
    INTERACTIVE=false
fi

# Use skill level if set (from user-setup's skill assessment)
if [[ "${DS01_SKILL_HPC:-}" == "0" ]]; then
    GUIDED=true
fi

# Helper functions for skill-aware output
if ! type is_beginner &>/dev/null; then
    is_beginner() {
        local area="${1:-HPC}"
        case "$area" in
            REMOTE) [[ "${DS01_SKILL_REMOTE:-0}" == "0" ]] ;;
            GIT)    [[ "${DS01_SKILL_GIT:-0}" == "0" ]] ;;
            HPC)    [[ "${DS01_SKILL_HPC:-0}" == "0" ]] ;;
        esac
    }
fi

# =============================================================================
# HEADER
# =============================================================================

echo -e ""
echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
if [ "$GUIDED" = true ]; then
    echo -e "  ${BOLD}DS01 Project Init (Guided Mode)${NC}"
    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
    echo -e ""
    echo -e "${GREEN}${BOLD}Welcome to DS01!${NC}"
    echo -e "  This wizard will create a complete ML project with all required files."
    echo -e "  ${DIM}For experienced users: run without --guided flag${NC}"
else
    echo -e "  ${BOLD}DS01 Project Init${NC}"
    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
fi

if [ "$INTERACTIVE" = true ] && [ "$GUIDED" = false ]; then
    echo -e ""
    echo -e "${DIM}Tip: Add --guided for detailed explanations, --concepts to learn first${NC}"
fi

# =============================================================================
# STEP 1: PROJECT NAME
# =============================================================================

echo -e ""
echo -e "${BOLD}Step 1: Project Information${NC}"

if [ "$GUIDED" = true ]; then
    echo -e ""
    echo -e "A project is your workspace directory containing:"
    echo -e "  - Your code ${DIM}(scripts, notebooks)${NC}"
    echo -e "  - Your data ${DIM}(datasets, trained models)${NC}"
    echo -e "  - Configuration files ${DIM}(pyproject.toml, requirements.txt)${NC}"
    echo -e "  - Docker setup ${DIM}(Dockerfile)${NC}"
    echo -e ""
    echo -e "${YELLOW}Everything persists across container restarts${NC}"
fi
echo -e ""

if [ -n "$PROJECT_NAME_ARG" ]; then
    PROJECT_NAME="$PROJECT_NAME_ARG"
    PROJECT_NAME=$(echo "$PROJECT_NAME" | tr ' ' '-' | tr '[:upper:]' '[:lower:]')
    echo -e "Project name: ${CYAN}$PROJECT_NAME${NC}"
else
    while true; do
        read -p "Project name (e.g., thesis, cv-experiments): " PROJECT_NAME </dev/tty
        PROJECT_NAME=$(echo "$PROJECT_NAME" | tr ' ' '-' | tr '[:upper:]' '[:lower:]')

        if [ -z "$PROJECT_NAME" ]; then
            echo -e "${RED}Project name cannot be empty${NC}"
            continue
        fi
        break
    done
fi

PROJECT_DIR="$HOME/workspace/$PROJECT_NAME"

# Check if exists
if [ -d "$PROJECT_DIR" ]; then
    echo -e "${YELLOW}Project directory already exists: $PROJECT_DIR${NC}"
    echo -e ""
    echo -e "  ${BOLD}1)${NC} Use existing ${DIM}(keep files, update config)${NC}"
    echo -e "  ${BOLD}2)${NC} Overwrite ${DIM}(delete and recreate)${NC}"
    echo -e "  ${BOLD}3)${NC} Cancel"
    echo -e ""
    read -p "Choice [1]: " DIR_CHOICE </dev/tty
    DIR_CHOICE=${DIR_CHOICE:-1}
    
    case $DIR_CHOICE in
        1)
            EXISTING_PROJECT=true
            ;;
        2)
            echo -e "${YELLOW}Removing existing directory...${NC}"
            rm -rf "$PROJECT_DIR"
            EXISTING_PROJECT=false
            ;;
       *)
            echo -e "Cancelled."
            exit 1
            ;;
    esac
    
else
    EXISTING_PROJECT=false
fi

# =============================================================================
# STEP 2: PROJECT TYPE (Use-case selection)
# =============================================================================

echo -e ""
echo -e "${BOLD}Step 2: Project Type${NC}"

if [ "$GUIDED" = true ]; then
    echo -e ""
    echo -e "The project type determines which packages are included in requirements.txt"
    echo -e "You can always modify requirements.txt later."
fi
echo -e ""

if [ -n "$PROJECT_TYPE_ARG" ]; then
    PROJECT_TYPE="$PROJECT_TYPE_ARG"
    # Validate
    case $PROJECT_TYPE in
        ml|cv|nlp|rl|audio|ts|llm|custom) ;;
        *)
            echo -e "${YELLOW}Unknown type '$PROJECT_TYPE', using 'ml'${NC}"
            PROJECT_TYPE="ml"
            ;;
    esac
    echo -e "Project type: ${CYAN}$PROJECT_TYPE${NC}"
elif [ "$INTERACTIVE" = true ]; then
    echo -e "Select project type:"
    echo -e "  ${BOLD}1)${NC} General ML ${DIM}(xgboost, lightgbm, optuna)${NC} ${GREEN}(Default)${NC}"
    echo -e "  ${BOLD}2)${NC} Computer Vision ${DIM}(timm, albumentations, opencv)${NC}"
    echo -e "  ${BOLD}3)${NC} NLP ${DIM}(transformers, datasets, tokenizers)${NC}"
    echo -e "  ${BOLD}4)${NC} Reinforcement Learning ${DIM}(gymnasium, stable-baselines3)${NC}"
    echo -e "  ${BOLD}5)${NC} Audio/Speech ${DIM}(librosa, soundfile, torchaudio)${NC}"
    echo -e "  ${BOLD}6)${NC} Time Series ${DIM}(statsmodels, prophet, darts)${NC}"
    echo -e "  ${BOLD}7)${NC} LLM/GenAI ${DIM}(vllm, bitsandbytes, langchain)${NC}"
    echo -e "  ${BOLD}8)${NC} Custom ${DIM}(specify packages manually later)${NC}"
    echo -e ""
    read -p "Choice [1-8, default: 1]: " TYPE_CHOICE </dev/tty

    case $TYPE_CHOICE in
        2) PROJECT_TYPE="cv" ;;
        3) PROJECT_TYPE="nlp" ;;
        4) PROJECT_TYPE="rl" ;;
        5) PROJECT_TYPE="audio" ;;
        6) PROJECT_TYPE="ts" ;;
        7) PROJECT_TYPE="llm" ;;
        8) PROJECT_TYPE="custom" ;;
        *) PROJECT_TYPE="ml" ;;
    esac
else
    PROJECT_TYPE="ml"
fi

# Project description
if [ -n "$PROJECT_DESC_ARG" ]; then
    PROJECT_DESC="$PROJECT_DESC_ARG"
elif [ "$INTERACTIVE" = true ]; then
    echo -e ""
    read -p "Project description (optional, Enter to skip): " PROJECT_DESC </dev/tty
else
    PROJECT_DESC=""
fi

# =============================================================================
# STEP 3: CREATE DIRECTORY STRUCTURE
# =============================================================================

if [ "$EXISTING_PROJECT" = false ]; then
    echo -e ""
    echo -e "${BOLD}Step 3: Creating Project Structure${NC}"

    if [ "$GUIDED" = true ]; then
        echo -e ""
        echo -e "A standard data science structure helps you:"
        echo -e "  - Collaborate with others easily"
        echo -e "  - Keep raw data separate from processed data"
        echo -e "  - Track experiments and results"
    fi
    echo -e ""

    if [ "$BLANK_STRUCTURE" = true ]; then
        STRUCTURE_TYPE="blank"
    elif [ "$INTERACTIVE" = true ]; then
        echo -e "Choose directory structure:"
        echo -e "  ${BOLD}1)${NC} Data Science structure ${GREEN}(recommended)${NC}"
        echo -e "     ${DIM}data/, notebooks/, src/, outputs/, models/${NC}"
        echo -e "  ${BOLD}2)${NC} Blank directory"
        echo -e "     ${DIM}Empty folder - set up your own structure${NC}"
        echo -e ""
        read -p "Choice [1-2, default: 1]: " STRUCTURE_CHOICE </dev/tty

        if [ "$STRUCTURE_CHOICE" = "2" ]; then
            STRUCTURE_TYPE="blank"
        else
            STRUCTURE_TYPE="data-science"
        fi
    else
        STRUCTURE_TYPE="data-science"
    fi

    # Call L2 atomic module: dir-create
    GUIDED_FLAG=""
    if [ "$GUIDED" = true ]; then
        GUIDED_FLAG="--guided"
    fi

    dir-create "$PROJECT_NAME" --type="$STRUCTURE_TYPE" $GUIDED_FLAG
else
    echo -e ""
    echo -e "${BOLD}Step 3: Using Existing Project${NC}"
    echo -e "${GREEN}Using existing directory${NC}"
    STRUCTURE_TYPE="existing"
fi

# =============================================================================
# STEP 4: CREATE PROJECT FILES (pyproject.toml, requirements.txt, Dockerfile)
# =============================================================================

echo -e ""
echo -e "${BOLD}Step 4: Creating Project Files${NC}"

if [ "$GUIDED" = true ]; then
    echo -e ""
    echo -e "Creating configuration files:"
    echo -e "  ${CYAN}pyproject.toml${NC}   - Project metadata for DS01"
    echo -e "  ${CYAN}requirements.txt${NC} - Python packages"
    echo -e "  ${CYAN}Dockerfile${NC}       - Container definition"
fi
echo -e ""

# 4a. Create pyproject.toml
echo -e "  Creating pyproject.toml..."
create_project_pyproject "$PROJECT_DIR" "$PROJECT_NAME" "$PROJECT_TYPE" "$PROJECT_DESC"
echo -e "  ${GREEN}Created${NC} pyproject.toml"

# 4b. Create requirements.txt with use-case packages
if [ ! -f "$PROJECT_DIR/requirements.txt" ] || [ "$EXISTING_PROJECT" = false ]; then
    echo -e "  Creating requirements.txt..."
    create_project_requirements "$PROJECT_DIR" "$PROJECT_TYPE"
    echo -e "  ${GREEN}Created${NC} requirements.txt"
fi

# 4c. Create Dockerfile using shared generator
if [ ! -f "$PROJECT_DIR/Dockerfile" ]; then
    echo -e "  Creating Dockerfile..."
    AIME_BASE_IMAGE=$(get_base_image "pytorch")

    if [ -z "$AIME_BASE_IMAGE" ]; then
        echo -e "  ${RED}Error: Could not determine base image${NC}" >&2
        exit 1
    fi

    set +e  # Temporarily disable exit on error to capture failure
    DOCKERFILE_OUTPUT=$(generate_dockerfile \
        --output "$PROJECT_DIR/Dockerfile" \
        --base-image "$AIME_BASE_IMAGE" \
        --project "$PROJECT_NAME" \
        --user-id "$USER_ID" \
        --username "$USERNAME" \
        --framework "pytorch" \
        --requirements "$PROJECT_DIR/requirements.txt" 2>&1)
    DOCKERFILE_EXIT=$?
    set -e

    if [ $DOCKERFILE_EXIT -ne 0 ]; then
        echo -e "  ${RED}Error creating Dockerfile:${NC}" >&2
        echo "$DOCKERFILE_OUTPUT" >&2
        exit 1
    fi

    echo -e "  ${GREEN}Created${NC} Dockerfile"
    echo -e "  ${DIM}Base image: $AIME_BASE_IMAGE${NC}"
fi

# =============================================================================
# STEP 5: GIT SETUP
# =============================================================================

echo -e ""
echo -e "${BOLD}Step 5: Git Version Control${NC}"

if [ "$SKIP_GIT" = true ]; then
    echo -e "  ${DIM}Skipping Git setup (--no-git)${NC}"
elif [ "$INTERACTIVE" = true ]; then
    read -p "Initialize Git repository? [Y/n]: " INIT_GIT </dev/tty
    INIT_GIT=${INIT_GIT:-Y}

    if [[ "$INIT_GIT" =~ ^[Yy] ]]; then
        GUIDED_FLAG=""
        if [ "$GUIDED" = true ]; then
            GUIDED_FLAG="--guided"
        fi
        git-init "$PROJECT_NAME" $GUIDED_FLAG
    else
        SKIP_GIT=true
    fi
else
    GUIDED_FLAG=""
    if [ "$GUIDED" = true ]; then
        GUIDED_FLAG="--guided"
    fi
    git-init "$PROJECT_NAME" $GUIDED_FLAG
fi

# =============================================================================
# STEP 6: README (optional)
# =============================================================================

if [ "$EXISTING_PROJECT" = false ]; then
    echo -e ""
    echo -e "${BOLD}Step 6: Creating README${NC}"

    GUIDED_FLAG=""
    COMMIT_FLAG=""
    if [ "$GUIDED" = true ]; then
        GUIDED_FLAG="--guided"
    fi
    if [ "$SKIP_GIT" = false ]; then
        COMMIT_FLAG="--commit"
    fi

    readme-create "$PROJECT_NAME" \
        --type="$PROJECT_TYPE" \
        --structure="$STRUCTURE_TYPE" \
        --desc="$PROJECT_DESC" \
        $COMMIT_FLAG \
        $GUIDED_FLAG
fi

# =============================================================================
# FINAL SUMMARY
# =============================================================================

echo -e ""
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${GREEN}${BOLD}Project Setup Complete!${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e ""
echo -e "${BOLD}Project:${NC} ${CYAN}$PROJECT_NAME${NC}"
echo -e "${BOLD}Type:${NC}    $PROJECT_TYPE"
echo -e "${BOLD}Path:${NC}    $PROJECT_DIR"
echo -e ""
echo -e "${BOLD}Created Files:${NC}"
echo -e "  pyproject.toml     ${DIM}(project metadata)${NC}"
echo -e "  requirements.txt   ${DIM}(Python packages)${NC}"
echo -e "  Dockerfile         ${DIM}(container definition)${NC}"
echo -e "  README.md          ${DIM}(documentation)${NC}"
echo -e ""
echo -e "${BOLD}Next Step:${NC}"
echo -e "  1. Edit requirements.txt ${DIM}(if needed): ${GREEN} nano $PROJECT_DIR/requirements.txt${NC}"
echo -e "  ${GREEN}2. project launch $PROJECT_NAME${NC}   ${DIM}# Build image & deploy container${NC}"
echo -e ""
echo -e "${DIM}Or step-by-step:${NC}"
echo -e "  ${DIM}1. image-create $PROJECT_NAME    # Build Docker image${NC}"
echo -e "  ${DIM}2. container-deploy $PROJECT_NAME # Start container${NC}"
echo -e ""
